{"version":3,"sources":["img.png","../../src/Map.context.tsx","../../src/Area.tsx","../../src/Map.tsx","App.tsx","index.tsx"],"names":["module","exports","MapContext","createContext","widthRatio","heightRatio","Area","props","useContext","coords","useMemo","Math","c","index","Map","useState","useEffect","imgRef","setWidthRatio","setHeightRatio","React","value","App","useRef","imgRefResized","name","shape","href","target","alt","ref","useMap","src","img","style","width","height","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0b70ea9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/img.8fc7e91f.png\";","import { createContext } from 'react'\n\ninterface IMapContext {\n  widthRatio: number\n  heightRatio: number\n}\nexport const MapContext = createContext<IMapContext>({\n  widthRatio: 1,\n  heightRatio: 1\n})\n","import * as React from 'react'\nimport { useContext, useMemo } from 'react'\nimport { MapContext } from './Map.context'\n\ntype AreaProps = React.DetailedHTMLProps<\n  React.AreaHTMLAttributes<HTMLAreaElement>,\n  HTMLAreaElement\n>\n\nexport const Area: React.FC<AreaProps> = ({ children, ...props }) => {\n  const { widthRatio, heightRatio } = useContext(MapContext)\n\n  const coords = useMemo(\n    () =>\n      props.coords\n        ?.split(',')\n        .map((c, index) =>\n          Math.round(+c * (index % 2 ? heightRatio : widthRatio))\n        )\n\n        .join(','),\n    [widthRatio, heightRatio, props.coords]\n  )\n\n  return (\n    <area {...props} coords={coords}>\n      {children}\n    </area>\n  )\n}\n","import * as React from 'react'\nimport { useEffect, useState } from 'react'\nimport { MapContext } from './Map.context'\n\ninterface MapProps\n  extends React.DetailedHTMLProps<\n    React.MapHTMLAttributes<HTMLMapElement>,\n    HTMLMapElement\n  > {\n  imgRef: React.RefObject<HTMLImageElement>\n}\n\nexport const Map: React.FC<MapProps> = ({ children, imgRef, ...props }) => {\n  const [widthRatio, setWidthRatio] = useState(1)\n  const [heightRatio, setHeightRatio] = useState(1)\n\n  useEffect(() => {\n    if (imgRef.current?.src) {\n      setWidthRatio(imgRef.current.offsetWidth / imgRef.current.naturalWidth)\n      setHeightRatio(imgRef.current.offsetHeight / imgRef.current.naturalHeight)\n    }\n  }, [imgRef.current, imgRef, imgRef.current?.offsetWidth])\n\n  return (\n    <map {...props}>\n      <MapContext.Provider value={{ widthRatio, heightRatio }}>\n        {children}\n      </MapContext.Provider>\n    </map>\n  )\n}\n","import React, { useRef } from 'react'\nimport { Area, Map } from 'react-responsive-maparea'\nimport img from './img.png'\n\nconst App = () => {\n  const imgRef = useRef<HTMLImageElement>(null)\n  const imgRefResized = useRef<HTMLImageElement>(null)\n\n  return (\n    <div>\n      <h1>Original size</h1>\n      <Map name='infographic' imgRef={imgRef}>\n        <Area\n          shape='rect'\n          coords='184,6,253,27'\n          href='https://mozilla.org'\n          target='_blank'\n          alt='Mozilla'\n        />\n        <Area\n          shape='circle'\n          coords='130,136,60'\n          href='https://developer.mozilla.org/'\n          target='_blank'\n          alt='MDN'\n        />\n        <Area\n          shape='poly'\n          coords='130,6,253,96,223,106,130,39'\n          href='https://developer.mozilla.org/docs/Web/Guide/Graphics'\n          target='_blank'\n          alt='Graphics'\n        />\n        <Area\n          shape='poly'\n          coords='253,96,207,241,189,217,223,103'\n          href='https://developer.mozilla.org/docs/Web/HTML'\n          target='_blank'\n          alt='HTML'\n        />\n        <Area\n          shape='poly'\n          coords='207,241,54,241,72,217,189,217'\n          href='https://developer.mozilla.org/docs/Web/JavaScript'\n          target='_blank'\n          alt='JavaScript'\n        />\n        <Area\n          shape='poly'\n          coords='54,241,6,97,36,107,72,217'\n          href='https://developer.mozilla.org/docs/Web/API'\n          target='_blank'\n          alt='Web APIs'\n        />\n        <Area\n          shape='poly'\n          coords='6,97,130,6,130,39,36,107'\n          href='https://developer.mozilla.org/docs/Web/CSS'\n          target='_blank'\n          alt='CSS'\n        />\n      </Map>\n      <img ref={imgRef} useMap='#infographic' src={img} alt='MDN infographic' />\n\n      <h1>Resized</h1>\n      <Map name='infographicResized' imgRef={imgRefResized}>\n        <Area\n          shape='rect'\n          coords='184,6,253,27'\n          href='https://mozilla.org'\n          target='_blank'\n          alt='Mozilla'\n        />\n        <Area\n          shape='circle'\n          coords='130,136,60'\n          href='https://developer.mozilla.org/'\n          target='_blank'\n          alt='MDN'\n        />\n        <Area\n          shape='poly'\n          coords='130,6,253,96,223,106,130,39'\n          href='https://developer.mozilla.org/docs/Web/Guide/Graphics'\n          target='_blank'\n          alt='Graphics'\n        />\n        <Area\n          shape='poly'\n          coords='253,96,207,241,189,217,223,103'\n          href='https://developer.mozilla.org/docs/Web/HTML'\n          target='_blank'\n          alt='HTML'\n        />\n        <Area\n          shape='poly'\n          coords='207,241,54,241,72,217,189,217'\n          href='https://developer.mozilla.org/docs/Web/JavaScript'\n          target='_blank'\n          alt='JavaScript'\n        />\n        <Area\n          shape='poly'\n          coords='54,241,6,97,36,107,72,217'\n          href='https://developer.mozilla.org/docs/Web/API'\n          target='_blank'\n          alt='Web APIs'\n        />\n        <Area\n          shape='poly'\n          coords='6,97,130,6,130,39,36,107'\n          href='https://developer.mozilla.org/docs/Web/CSS'\n          target='_blank'\n          alt='CSS'\n        />\n      </Map>\n      <img\n        ref={imgRefResized}\n        useMap='#infographicResized'\n        src={img}\n        alt='MDN infographic resize'\n        style={{ width: 300, height: 200 }}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}